<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Category.hh Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>Category.hh</h1><a href="Category_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment"> * Category.hh</font>
00003 <font class="comment"> *</font>
00004 <font class="comment"> * Copyright 2000, LifeLine Networks BV (www.lifeline.nl). All rights reserved.</font>
00005 <font class="comment"> * Copyright 2000, Bastiaan Bakker. All rights reserved.</font>
00006 <font class="comment"> *</font>
00007 <font class="comment"> * See the COPYING file for the terms of usage and distribution.</font>
00008 <font class="comment"> */</font>
00009 
00010 <font class="preprocessor">#ifndef _LOG4CPP_CATEGORY_HH</font>
00011 <font class="preprocessor"></font><font class="preprocessor">#define _LOG4CPP_CATEGORY_HH</font>
00012 <font class="preprocessor"></font>
00013 <font class="preprocessor">#include &lt;<a class="code" href="Portability_8hh.html">log4cpp/Portability.hh</a>&gt;</font>
00014 <font class="preprocessor">#include &lt;<a class="code" href="Appender_8hh.html">log4cpp/Appender.hh</a>&gt;</font>
00015 <font class="preprocessor">#include &lt;<a class="code" href="LoggingEvent_8hh.html">log4cpp/LoggingEvent.hh</a>&gt;</font>
00016 <font class="preprocessor">#include &lt;<a class="code" href="Priority_8hh.html">log4cpp/Priority.hh</a>&gt;</font>
00017 <font class="preprocessor">#include &lt;<a class="code" href="CategoryStream_8hh.html">log4cpp/CategoryStream.hh</a>&gt;</font>
00018 <font class="preprocessor">#include &lt;<a class="code" href="Threading_8hh.html">log4cpp/threading/Threading.hh</a>&gt;</font>
00019 
00020 <font class="preprocessor">#include &lt;map&gt;</font>
00021 <font class="preprocessor">#include &lt;vector&gt;</font>
00022 <font class="preprocessor">#include &lt;cstdarg&gt;</font>
00023 <font class="preprocessor">#include &lt;stdexcept&gt;</font>
00024 
00025 <font class="keyword">namespace </font>log4cpp {
00026 
<a name="l00032"></a><a class="code" href="classlog4cpp_1_1Category.html">00032</a>     <font class="keyword">class </font><a class="code" href="Export_8hh.html#a0">LOG4CPP_EXPORT</a> <a class="code" href="namespacelog4cpp.html#a2">Category</a> {
<a name="l00033"></a><a class="code" href="classlog4cpp_1_1Category.html#l0">00033</a>         <font class="keyword">friend</font> <font class="keyword">class </font>HierarchyMaintainer;
00034 
00035         <font class="keyword">public</font>:
00047         <font class="keyword">static</font> <a class="code" href="namespacelog4cpp.html#a2">Category</a>&amp; getRoot();
00048 
00053         <font class="keyword">static</font> <font class="keywordtype">void</font> setRootPriority(Priority::Value priority);
00054 
00059         <font class="keyword">static</font> Priority::Value getRootPriority() <font class="keywordflow">throw</font>();
00060 
00068         <font class="keyword">static</font> <a class="code" href="namespacelog4cpp.html#a2">Category</a>&amp; getInstance(<font class="keyword">const</font> std::string&amp; name);
00069             
00075         <font class="keyword">static</font> <a class="code" href="namespacelog4cpp.html#a2">Category</a>* exists(<font class="keyword">const</font> std::string&amp; name);
00076 
00089         <font class="keyword">static</font> std::vector&lt;Category*&gt;* getCurrentCategories();
00090 
00094         <font class="keyword">static</font> <font class="keywordtype">void</font> shutdown();
00095 
00099         <font class="keyword">virtual</font> ~<a class="code" href="namespacelog4cpp.html#a2">Category</a>();
00100         
00105         <font class="keyword">virtual</font> <font class="keyword">const</font> std::string&amp; getName() <font class="keyword">const</font> <font class="keywordflow">throw</font>(); 
00106         
00114         <font class="keyword">virtual</font> <font class="keywordtype">void</font> setPriority(Priority::Value priority) 
00115         <font class="keywordflow">throw</font>(std::invalid_argument);
00116 
00121         <font class="keyword">virtual</font> Priority::Value getPriority() <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00122 
00131         <font class="keyword">virtual</font> Priority::Value getChainedPriority() <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00132 
00139         <font class="keyword">virtual</font> <font class="keywordtype">bool</font> isPriorityEnabled(Priority::Value priority) <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00140         
00148         <font class="keyword">virtual</font> <font class="keywordtype">void</font> addAppender(Appender* appender) 
00149         <font class="keywordflow">throw</font>(std::invalid_argument);
00150 
00157         <font class="keyword">virtual</font> <font class="keywordtype">void</font> addAppender(Appender&amp; appender);
00158 
<a name="l00167"></a><a class="code" href="classlog4cpp_1_1Category.html#a8">00167</a>         <font class="keyword">inline</font> <font class="keywordtype">void</font> setAppender(Appender* appender) {
00168             <font class="keywordflow">if</font> (appender) {
00169                 addAppender(appender);
00170             } <font class="keywordflow">else</font> {
00171                 removeAllAppenders();
00172             }
00173         };
00174 
<a name="l00181"></a><a class="code" href="classlog4cpp_1_1Category.html#a9">00181</a>         <font class="keyword">inline</font> <font class="keywordtype">void</font> setAppender(Appender&amp; appender) {
00182             addAppender(appender);
00183         };
00184 
00191         <font class="keyword">virtual</font> Appender* getAppender() <font class="keyword">const</font>;
00192 
00199         <font class="keyword">virtual</font> Appender* getAppender(<font class="keyword">const</font> std::string&amp; name) <font class="keyword">const</font>;
00200 
00206         <font class="keyword">virtual</font> <a class="code" href="namespacelog4cpp.html#a1">AppenderSet</a> getAllAppenders() <font class="keyword">const</font>;
00207 
00211         <font class="keyword">virtual</font> <font class="keywordtype">void</font> removeAllAppenders();
00212 
00217         <font class="keyword">virtual</font> <font class="keywordtype">void</font> removeAppender(Appender* appender);
00218 
<a name="l00225"></a><a class="code" href="classlog4cpp_1_1Category.html#a15">00225</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> ownsAppender() <font class="keyword">const</font> <font class="keywordflow">throw</font>() {
00226             <font class="keywordflow">return</font> ownsAppender(getAppender());
00227         };
00228 
00234         <font class="keyword">virtual</font> <font class="keywordtype">bool</font> ownsAppender(Appender* appender) <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00235 
00247         <font class="keyword">virtual</font> <font class="keywordtype">void</font> callAppenders(<font class="keyword">const</font> LoggingEvent&amp; event) <font class="keywordflow">throw</font>();
00248         
00252         <font class="keyword">virtual</font> <font class="keywordtype">void</font> setAdditivity(<font class="keywordtype">bool</font> additivity);
00253 
00257         <font class="keyword">virtual</font> <font class="keywordtype">bool</font> getAdditivity() <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00258 
00264         <font class="keyword">virtual</font> <a class="code" href="namespacelog4cpp.html#a2">Category</a>* getParent() <font class="keywordflow">throw</font>();
00265 
00271         <font class="keyword">virtual</font> <font class="keyword">const</font> <a class="code" href="namespacelog4cpp.html#a2">Category</a>* getParent() <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00272 
00280         <font class="keyword">virtual</font> <font class="keywordtype">void</font> log(Priority::Value priority, <font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat,
00281                          ...) <font class="keywordflow">throw</font>();
00282 
00288         <font class="keyword">virtual</font> <font class="keywordtype">void</font> log(Priority::Value priority, 
00289                          <font class="keyword">const</font> std::string&amp; message) <font class="keywordflow">throw</font>();
00290         
00299         <font class="keyword">virtual</font> <font class="keywordtype">void</font> logva(Priority::Value priority, 
00300                            <font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat,
00301                            va_list va) <font class="keywordflow">throw</font>();
00302         
00309         <font class="keywordtype">void</font> debug(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...) <font class="keywordflow">throw</font>();
00310 
00315         <font class="keywordtype">void</font> debug(<font class="keyword">const</font> std::string&amp; message) <font class="keywordflow">throw</font>();
00316 
<a name="l00321"></a><a class="code" href="classlog4cpp_1_1Category.html#a27">00321</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isDebugEnabled() <font class="keyword">const</font> <font class="keywordflow">throw</font>() { 
00322             <font class="keywordflow">return</font> isPriorityEnabled(Priority::DEBUG);
00323         };
00324         
<a name="l00329"></a><a class="code" href="classlog4cpp_1_1Category.html#a28">00329</a>         <font class="keyword">inline</font> CategoryStream debugStream() {
00330             <font class="keywordflow">return</font> getStream(Priority::DEBUG);
00331         }
00332 
00339         <font class="keywordtype">void</font> info(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...) <font class="keywordflow">throw</font>();
00340 
00345         <font class="keywordtype">void</font> info(<font class="keyword">const</font> std::string&amp; message) <font class="keywordflow">throw</font>();
00346 
<a name="l00351"></a><a class="code" href="classlog4cpp_1_1Category.html#a31">00351</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isInfoEnabled() <font class="keyword">const</font> <font class="keywordflow">throw</font>() { 
00352             <font class="keywordflow">return</font> isPriorityEnabled(Priority::INFO);
00353         };
00354 
<a name="l00359"></a><a class="code" href="classlog4cpp_1_1Category.html#a32">00359</a>         <font class="keyword">inline</font> CategoryStream infoStream() {
00360             <font class="keywordflow">return</font> getStream(Priority::INFO);
00361         }
00362         
00369         <font class="keywordtype">void</font> notice(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...) <font class="keywordflow">throw</font>();
00370 
00375         <font class="keywordtype">void</font> notice(<font class="keyword">const</font> std::string&amp; message) <font class="keywordflow">throw</font>();
00376 
<a name="l00381"></a><a class="code" href="classlog4cpp_1_1Category.html#a35">00381</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isNoticeEnabled() <font class="keyword">const</font> <font class="keywordflow">throw</font>() { 
00382             <font class="keywordflow">return</font> isPriorityEnabled(Priority::NOTICE);
00383         };
00384 
<a name="l00389"></a><a class="code" href="classlog4cpp_1_1Category.html#a36">00389</a>         <font class="keyword">inline</font> CategoryStream noticeStream() {
00390             <font class="keywordflow">return</font> getStream(Priority::NOTICE);
00391         }
00392         
00399         <font class="keywordtype">void</font> warn(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...) <font class="keywordflow">throw</font>();
00400 
00405         <font class="keywordtype">void</font> warn(<font class="keyword">const</font> std::string&amp; message) <font class="keywordflow">throw</font>();
00406 
<a name="l00411"></a><a class="code" href="classlog4cpp_1_1Category.html#a39">00411</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isWarnEnabled() <font class="keyword">const</font> <font class="keywordflow">throw</font>() { 
00412             <font class="keywordflow">return</font> isPriorityEnabled(Priority::WARN);
00413         };
00414 
<a name="l00419"></a><a class="code" href="classlog4cpp_1_1Category.html#a40">00419</a>         <font class="keyword">inline</font> CategoryStream warnStream() {
00420             <font class="keywordflow">return</font> getStream(Priority::WARN);
00421         };
00422         
00429         <font class="keywordtype">void</font> error(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...) <font class="keywordflow">throw</font>();
00430 
00435         <font class="keywordtype">void</font> error(<font class="keyword">const</font> std::string&amp; message) <font class="keywordflow">throw</font>();
00436 
<a name="l00441"></a><a class="code" href="classlog4cpp_1_1Category.html#a43">00441</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isErrorEnabled() <font class="keyword">const</font> <font class="keywordflow">throw</font>() { 
00442             <font class="keywordflow">return</font> isPriorityEnabled(Priority::ERROR);
00443         };
00444         
<a name="l00449"></a><a class="code" href="classlog4cpp_1_1Category.html#a44">00449</a>         <font class="keyword">inline</font> CategoryStream errorStream() {
00450             <font class="keywordflow">return</font> getStream(Priority::ERROR);
00451         };
00452 
00459         <font class="keywordtype">void</font> crit(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...) <font class="keywordflow">throw</font>();
00460 
00465         <font class="keywordtype">void</font> crit(<font class="keyword">const</font> std::string&amp; message) <font class="keywordflow">throw</font>();
00466 
<a name="l00471"></a><a class="code" href="classlog4cpp_1_1Category.html#a47">00471</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isCritEnabled() <font class="keyword">const</font> <font class="keywordflow">throw</font>() { 
00472             <font class="keywordflow">return</font> isPriorityEnabled(Priority::CRIT);
00473         };
00474         
<a name="l00479"></a><a class="code" href="classlog4cpp_1_1Category.html#a48">00479</a>         <font class="keyword">inline</font> CategoryStream critStream() {
00480             <font class="keywordflow">return</font> getStream(Priority::CRIT);
00481         };
00482         
00489         <font class="keywordtype">void</font> alert(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...) <font class="keywordflow">throw</font>();
00490 
00495         <font class="keywordtype">void</font> alert(<font class="keyword">const</font> std::string&amp; message) <font class="keywordflow">throw</font>();
00496 
<a name="l00501"></a><a class="code" href="classlog4cpp_1_1Category.html#a51">00501</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isAlertEnabled() <font class="keyword">const</font> <font class="keywordflow">throw</font>() { 
00502             <font class="keywordflow">return</font> isPriorityEnabled(Priority::ALERT);
00503         };
00504         
<a name="l00509"></a><a class="code" href="classlog4cpp_1_1Category.html#a52">00509</a>         <font class="keyword">inline</font> CategoryStream alertStream() <font class="keywordflow">throw</font>() {
00510             <font class="keywordflow">return</font> getStream(Priority::ALERT);
00511         };
00512 
00519         <font class="keywordtype">void</font> emerg(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...) <font class="keywordflow">throw</font>();
00520 
00525         <font class="keywordtype">void</font> emerg(<font class="keyword">const</font> std::string&amp; message) <font class="keywordflow">throw</font>();
00526 
<a name="l00531"></a><a class="code" href="classlog4cpp_1_1Category.html#a55">00531</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isEmergEnabled() <font class="keyword">const</font> <font class="keywordflow">throw</font>() { 
00532             <font class="keywordflow">return</font> isPriorityEnabled(Priority::EMERG);
00533         };
00534         
<a name="l00539"></a><a class="code" href="classlog4cpp_1_1Category.html#a56">00539</a>         <font class="keyword">inline</font> CategoryStream emergStream() {
00540             <font class="keywordflow">return</font> getStream(Priority::EMERG);
00541         };
00542 
00551         <font class="keywordtype">void</font> fatal(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...) <font class="keywordflow">throw</font>();
00552 
00559         <font class="keywordtype">void</font> fatal(<font class="keyword">const</font> std::string&amp; message) <font class="keywordflow">throw</font>();
00560 
<a name="l00567"></a><a class="code" href="classlog4cpp_1_1Category.html#a59">00567</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isFatalEnabled() <font class="keyword">const</font> <font class="keywordflow">throw</font>() { 
00568             <font class="keywordflow">return</font> isPriorityEnabled(Priority::FATAL);
00569         };
00570         
<a name="l00577"></a><a class="code" href="classlog4cpp_1_1Category.html#a60">00577</a>         <font class="keyword">inline</font> CategoryStream fatalStream() {
00578             <font class="keywordflow">return</font> getStream(Priority::FATAL);
00579         };
00580 
00586         <font class="keyword">virtual</font> CategoryStream getStream(Priority::Value priority);
00587 
00593         <font class="keyword">virtual</font> CategoryStream operator&lt;&lt;(Priority::Value priority);
00594 
00595         <font class="keyword">protected</font>:
00596 
00605         <a class="code" href="namespacelog4cpp.html#a2">Category</a>(<font class="keyword">const</font> std::string&amp; name, <a class="code" href="namespacelog4cpp.html#a2">Category</a>* parent, 
00606                                 Priority::Value priority = Priority::NOTSET);
00607         
00608         <font class="keyword">virtual</font> <font class="keywordtype">void</font> _logUnconditionally(Priority::Value priority, 
00609                                          <font class="keyword">const</font> <font class="keywordtype">char</font>* format, 
00610                                          va_list arguments) <font class="keywordflow">throw</font>();
00611         
00617         <font class="keyword">virtual</font> <font class="keywordtype">void</font> _logUnconditionally2(Priority::Value priority, 
00618                                           <font class="keyword">const</font> std::string&amp; message) <font class="keywordflow">throw</font>();
00619 
00620         <font class="keyword">private</font>:
00621 
00622         <font class="comment">/* prevent copying and assignment */</font>
00623         <a class="code" href="namespacelog4cpp.html#a2">Category</a>(<font class="keyword">const</font> <a class="code" href="namespacelog4cpp.html#a2">Category</a>&amp; other);
00624         <a class="code" href="namespacelog4cpp.html#a2">Category</a>&amp; operator=(<font class="keyword">const</font> <a class="code" href="namespacelog4cpp.html#a2">Category</a>&amp; other);
00625 
00627         <font class="keyword">const</font> std::string _name;
00628 
00633         <a class="code" href="namespacelog4cpp.html#a2">Category</a>* _parent;
00634 
00638         <font class="keyword">volatile</font> Priority::Value _priority;
00639 
00640         <font class="keyword">typedef</font> std::map&lt;Appender *, bool&gt; OwnsAppenderMap;
00641 
00648         <font class="keyword">virtual</font> <font class="keywordtype">bool</font> ownsAppender(Appender* appender, 
00649                                   OwnsAppenderMap::iterator&amp; i2) <font class="keywordflow">throw</font>();
00650 
00651         <a class="code" href="namespacelog4cpp.html#a1">AppenderSet</a> _appender;
00652         <font class="keyword">mutable</font> threading::Mutex _appenderSetMutex;
00653 
00659         OwnsAppenderMap _ownsAppender;
00660 
00665         <font class="keyword">volatile</font> <font class="keywordtype">bool</font> _isAdditive;
00666 
00667     };
00668 
00669 }
00670 <font class="preprocessor">#endif // _LOG4CPP_CATEGORY_HH</font>
</pre></div><hr><address><small>Generated on Mon Oct 28 23:41:43 2002 for log4cpp by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
